// ===========================================
// Sections
// ===========================================

// Single diagonal divider at the top of a section,
// colored as the PREVIOUS section's background.
@mixin angled-top($bg-color) {
  &::before {
    content: '';
    position: absolute;
    top: -1px;
    left: 0;
    width: 100%;
    height: 80px;
    background: $bg-color;
    clip-path: polygon(0 0, 100% 0, 100% 0%, 0 100%);
    z-index: 2;
  }
}

.section {
  @include section-padding;
  position: relative;
  overflow: hidden;
  padding-top: 7rem;
}

// ---- Dark section ----
.section--dark {
  background-color: $primary;
  color: $white;
  padding-top: 7rem;
  padding-bottom: 7rem;
  @include angled-top($primary);

  &:last-child {
    padding-top: 4rem;
    padding-bottom: 4rem;
    &::before { display: none; }
  }
}

// ---- Indigo section ----
.section--indigo {
  background-color: $indigo;
  color: $white;
  padding-top: 7rem;
  padding-bottom: 7rem;
  @include angled-top($indigo);

  &:last-child {
    padding-top: 4rem;
    padding-bottom: 4rem;
    &::before { display: none; }
  }
}

// ---- Light section ----
.section--light {
  background-color: $light;
  padding-top: 7rem;
  padding-bottom: 7rem;
  @include angled-top($light);
}

// ---- Accent section ----
.section--accent {
  background-color: $accent;
  color: $white;
  padding-top: 7rem;
  padding-bottom: 7rem;
  @include angled-top($accent);
}

// ===========================================
// Context-aware: ::before = previous section's bg
// ===========================================

// After Dark
.section--dark + .section--accent::before,
.section--dark + .section--indigo::before,
.section--dark + .section--light::before { background: $primary; }

// After Accent
.section--accent + .section--dark::before,
.section--accent + .section--indigo::before,
.section--accent + .section--light::before { background: $accent; }

// After Indigo
.section--indigo + .section--dark::before,
.section--indigo + .section--light::before,
.section--indigo + .section--accent::before { background: $indigo; }

// After Light
.section--light + .section--dark::before,
.section--light + .section--indigo::before,
.section--light + .section--accent::before { background: $light; }

// Same type adjacency — no divider needed
.section--dark + .section--dark::before { display: none; }

// Hero → section — seamless, no top angle
.hero + .section::before { display: none; }
.hero + .section--dark { padding-top: 5rem; }

// ===========================================
// Section Header
// ===========================================

.section-header {
  margin-bottom: 3rem;

  &__title {
    font-family: $font-family-heading;
    font-weight: 800;
    margin-bottom: 1rem;
    color: $primary;
  }

  &__subtitle {
    color: $gray-500;
    max-width: 640px;
    line-height: 1.7;
  }

  &--center {
    text-align: center;
    .section-header__subtitle {
      margin-left: auto;
      margin-right: auto;
    }
  }

  .section--dark &,
  .section--indigo &,
  .section--accent & {
    &__title {
      color: $white;
    }
    &__subtitle {
      color: rgba($white, 0.65);
    }
  }
}

.section-split {
  &__image {
    border-radius: $border-radius-lg;
    overflow: hidden;

    img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  }
}

.logo-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 1.5rem;
}
